

server {
        listen         80;#HTTP 的端口
        server_name     ptclient.889byh.com;
        index   index.jsp index.html index.htm;

        charset utf-8;

        access_log  logs/ptclient-889byh.access.log main;

         location ~ ^/(WEB-INF)/ {
            deny all;
         }

        location / {
             proxy_redirect          off;
             proxy_set_header        Host            $host;
             proxy_set_header        X-Real-IP       $remote_addr;
             proxy_set_header        referer         "";
             proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
             proxy_connect_timeout   80;
             proxy_send_timeout      80;
             proxy_read_timeout      80;
             client_max_body_size    35m;
             client_body_buffer_size 256k;
             proxy_buffer_size       256k;
             proxy_buffers           4 256k;
             proxy_busy_buffers_size 256k;
             proxy_temp_file_write_size      256k;
             proxy_pass http://ptclientbyh;
        }

location ~* (conf|logs|lib|work|temp|bin)/{
        return 444;
        }
}



server {
        listen         443;#HTTP 的端口
        server_name     ptclient.889byh.com;
        index   index.jsp index.html index.htm;

        charset utf-8;

        access_log  logs/ptclient-889byh.access.log main;

         location ~ ^/(WEB-INF)/ {
            deny all;
         }

        location / {
             proxy_redirect          off;
             proxy_set_header        Host            $host;
             proxy_set_header        X-Real-IP       $remote_addr;
             proxy_set_header        referer         "";
             proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
             proxy_connect_timeout   80;
             proxy_send_timeout      80;
             proxy_read_timeout      80;
             client_max_body_size    35m;
             client_body_buffer_size 256k;
             proxy_buffer_size       256k;
             proxy_buffers           4 256k;
             proxy_busy_buffers_size 256k;
             proxy_temp_file_write_size      256k;
             proxy_pass http://ptclientbyh;
        }

location ~* (conf|logs|lib|work|temp|bin)/{
        return 444;
        }
}








