--- /ansible/nginx/hostgroups/eu-nginx/nginx/conf.d/global/upstream.conf	2020-07-23 14:26:28.600126793 +0800
+++ /tmp/upstream.conf	2020-07-28 00:09:53.462539680 +0800
@@ -6,87 +6,114 @@
   		server 61.238.107.23:9280 max_fails=2  fail_timeout=30s weight=5;
 }
 upstream 6642 {
-        server 205.177.199.12:6642 max_fails=2  fail_timeout=30s weight=10;
-        server 101.78.133.212:6642 max_fails=2  fail_timeout=30s weight=5 backup;
+        #server 205.177.199.12:6642 max_fails=2  fail_timeout=30s weight=10;
+        #server 101.78.133.212:6642 max_fails=2  fail_timeout=30s weight=5 backup;
 		#server 202.155.246.243:6642 max_fails=2  fail_timeout=30s weight=5 backup;
+        server 61.238.107.16:6642 max_fails=2  fail_timeout=5s weight=2;
+        server 202.155.246.243:6642 max_fails=2  fail_timeout=5s weight=2;
+        server 59.148.22.111:6642 max_fails=2  fail_timeout=5s weight=2;
 		server 59.148.22.111:6642 max_fails=2  fail_timeout=30s weight=5 backup;
 }
 
 
 upstream desktop_eu {
     least_conn;
-    server 205.177.199.6:9880 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.216:9880 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.221:9880 max_fails=2  fail_timeout=5s weight=2;
-    server 205.177.199.9:9880 max_fails=2  fail_timeout=5s weight=2;
+    #server 205.177.199.6:9880 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.216:9880 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.221:9880 max_fails=2  fail_timeout=5s weight=2;
+    #server 205.177.199.9:9880 max_fails=2  fail_timeout=5s weight=2;
+    server 61.238.107.16:9880 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:9880 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:9880 max_fails=2  fail_timeout=5s weight=2;
   	server 58.64.207.210:9880 max_fails=2  fail_timeout=5s weight=2 backup;
     server 59.148.22.110:9880 max_fails=2  fail_timeout=5s weight=2 backup;
 }
 
 upstream mobile_eu {
     least_conn;
-    server 205.177.199.6:9881 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.216:9881 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.221:9881 max_fails=2  fail_timeout=5s weight=2;
-    server 205.177.199.9:9881 max_fails=2  fail_timeout=5s weight=2;
-  	server 58.64.207.210:9881 max_fails=2  fail_timeout=5s weight=2 backup;
+    #server 205.177.199.6:9881 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.216:9881 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.221:9881 max_fails=2  fail_timeout=5s weight=2;
+   # server 205.177.199.9:9881 max_fails=2  fail_timeout=5s weight=2;
+  	server 61.238.107.16:9881 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:9881 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:9881 max_fails=2  fail_timeout=5s weight=2;
+    server 58.64.207.210:9881 max_fails=2  fail_timeout=5s weight=2 backup;
     server 59.148.22.110:9881 max_fails=2  fail_timeout=5s weight=2 backup;
 }
 
 upstream desktop_cdn_eu {
     least_conn;
-    server 205.177.199.6:17505 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.216:17505 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.221:17505 max_fails=2  fail_timeout=5s weight=2;
-  	server 205.177.199.9:17505 max_fails=2  fail_timeout=5s weight=2;
+    #server 205.177.199.6:17505 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.216:17505 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.221:17505 max_fails=2  fail_timeout=5s weight=2;
+  	#server 205.177.199.9:17505 max_fails=2  fail_timeout=5s weight=2;
+    server 61.238.107.16:17505 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:17505 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:17505 max_fails=2  fail_timeout=5s weight=2;
     server 58.64.207.210:17505 max_fails=2  fail_timeout=5s weight=2 backup;
   	server 59.148.22.110:17505 max_fails=2  fail_timeout=5s weight=2 backup;
 }
 
 upstream mobile_cdn_eu {
     least_conn;
-    server 205.177.199.6:17605 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.216:17605 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.221:17605 max_fails=2  fail_timeout=5s weight=2;
-    server 205.177.199.9:17605 max_fails=2  fail_timeout=5s weight=2;
-  	server 58.64.207.210:17605 max_fails=2  fail_timeout=5s weight=2 backup;
+    #server 205.177.199.6:17605 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.216:17605 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.221:17605 max_fails=2  fail_timeout=5s weight=2;
+    #server 205.177.199.9:17605 max_fails=2  fail_timeout=5s weight=2;
+  	server 61.238.107.16:17605 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:17605 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:17605 max_fails=2  fail_timeout=5s weight=2;
+    server 58.64.207.210:17605 max_fails=2  fail_timeout=5s weight=2 backup;
     server 59.148.22.110:17605 max_fails=2  fail_timeout=5s weight=2 backup;
 }
 
 upstream desktop_proxy_eu {
     least_conn;
-    server 205.177.199.6:9988 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.216:9988 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.221:9988 max_fails=2  fail_timeout=5s weight=2;
-    server 205.177.199.9:9988 max_fails=2  fail_timeout=5s weight=2;
-  	server 58.64.207.210:9988 max_fails=2  fail_timeout=5s weight=2 backup;
+    #server 205.177.199.6:9988 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.216:9988 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.221:9988 max_fails=2  fail_timeout=5s weight=2;
+    #server 205.177.199.9:9988 max_fails=2  fail_timeout=5s weight=2;
+  	server 61.238.107.16:9988 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:9988 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:9988 max_fails=2  fail_timeout=5s weight=2;
+    server 58.64.207.210:9988 max_fails=2  fail_timeout=5s weight=2 backup;
     server 59.148.22.110:9988 max_fails=2  fail_timeout=5s weight=2 backup;
 }
 
 upstream mobile_proxy_eu {
     least_conn;
-    server 205.177.199.6:9989 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.216:9989 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.221:9989 max_fails=2  fail_timeout=5s weight=2;
-    server 205.177.199.9:9989 max_fails=2  fail_timeout=5s weight=2;
-  	server 58.64.207.210:9989 max_fails=2  fail_timeout=5s weight=2 backup;
+    #server 205.177.199.6:9989 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.216:9989 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.221:9989 max_fails=2  fail_timeout=5s weight=2;
+    #server 205.177.199.9:9989 max_fails=2  fail_timeout=5s weight=2;
+  	server 61.238.107.16:9989 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:9989 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:9989 max_fails=2  fail_timeout=5s weight=2;
+    server 58.64.207.210:9989 max_fails=2  fail_timeout=5s weight=2 backup;
     server 59.148.22.110:9989 max_fails=2  fail_timeout=5s weight=2 backup;
 }
 
 upstream pt_eu {
     least_conn;
-    server 205.177.199.6:9884 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.216:9884 max_fails=2  fail_timeout=5s weight=2;
-    server 101.78.133.221:9884 max_fails=2  fail_timeout=5s weight=2;
-  	server 205.177.199.9:9884 max_fails=2  fail_timeout=5s weight=2;
-  	server 58.64.207.210:9884 max_fails=2  fail_timeout=5s weight=2 backup;
+    #server 205.177.199.6:9884 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.216:9884 max_fails=2  fail_timeout=5s weight=2;
+    #server 101.78.133.221:9884 max_fails=2  fail_timeout=5s weight=2;
+  	#server 205.177.199.9:9884 max_fails=2  fail_timeout=5s weight=2;
+  	server 61.238.107.16:9884 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:9884 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:9884 max_fails=2  fail_timeout=5s weight=2;
+    server 58.64.207.210:9884 max_fails=2  fail_timeout=5s weight=2 backup;
   	server 59.148.22.110:9884 max_fails=2  fail_timeout=5s weight=2 backup;
 }
 
 upstream message_boards_eu {
     least_conn;
-    server 205.177.199.12:8118 max_fails=2 fail_timeout=5s weight=2;
-    server 101.78.133.212:8118 max_fails=2 fail_timeout=5s weight=2;
+    #server 205.177.199.12:8118 max_fails=2 fail_timeout=5s weight=2;
+    #server 101.78.133.212:8118 max_fails=2 fail_timeout=5s weight=2;
+    server 61.238.107.16:8118 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:8118 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:8118 max_fails=2  fail_timeout=5s weight=2;
     server 203.177.198.116:8118 max_fails=2 fail_timeout=5s weight=2;
 }
 
@@ -96,20 +123,26 @@
 
 upstream desktop_ruibo {
   		least_conn;
-        server 205.177.199.6:9812 max_fails=2  fail_timeout=30s weight=2;
-        server 101.78.133.216:9812 max_fails=2  fail_timeout=30s weight=2;
-        server 101.78.133.221:9812 max_fails=2  fail_timeout=30s weight=2;
-        server 205.177.199.9:9812 max_fails=2  fail_timeout=30s weight=2;
+        #server 205.177.199.6:9812 max_fails=2  fail_timeout=30s weight=2;
+        #server 101.78.133.216:9812 max_fails=2  fail_timeout=30s weight=2;
+        #server 101.78.133.221:9812 max_fails=2  fail_timeout=30s weight=2;
+        #server 205.177.199.9:9812 max_fails=2  fail_timeout=30s weight=2;
+        server 61.238.107.16:9812 max_fails=2  fail_timeout=5s weight=2;
+        server 202.155.246.243:9812 max_fails=2  fail_timeout=5s weight=2;
+        server 59.148.22.111:9812 max_fails=2  fail_timeout=5s weight=2;
   		server 58.64.207.210:9812 max_fails=2  fail_timeout=30s weight=2 backup;
         server 59.148.22.110:9812 max_fails=2  fail_timeout=30s weight=2 backup;
 }
 
 upstream mobile_ruibo {
   		least_conn;
-        server 205.177.199.6:9813 max_fails=2  fail_timeout=5s weight=2;
-        server 101.78.133.216:9813 max_fails=2  fail_timeout=5s weight=2;
-        server 101.78.133.221:9813 max_fails=2  fail_timeout=5s weight=2;
-        server 205.177.199.9:9813 max_fails=2  fail_timeout=5s weight=2;
+        #server 205.177.199.6:9813 max_fails=2  fail_timeout=5s weight=2;
+        #server 101.78.133.216:9813 max_fails=2  fail_timeout=5s weight=2;
+        #server 101.78.133.221:9813 max_fails=2  fail_timeout=5s weight=2;
+        #server 205.177.199.9:9813 max_fails=2  fail_timeout=5s weight=2;
+        server 61.238.107.16:9813 max_fails=2  fail_timeout=5s weight=2;
+        server 202.155.246.243:9813 max_fails=2  fail_timeout=5s weight=2;
+        server 59.148.22.111:9813 max_fails=2  fail_timeout=5s weight=2;
   		server 58.64.207.210:9813 max_fails=2  fail_timeout=5s weight=2 backup;
         server 59.148.22.110:9813 max_fails=2  fail_timeout=5s weight=2 backup;
 }
@@ -117,66 +150,90 @@
 
 upstream xjw_eu_h5 {
 	least_conn;
-	server 205.177.199.6:23113 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.216:23113 max_fails=2  fail_timeout=5s weight=2;
-	server 205.177.199.9:23113 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.221:23113 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.6:23113 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.216:23113 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.9:23113 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.221:23113 max_fails=2  fail_timeout=5s weight=2;
+    server 61.238.107.16:23113 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:23113 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:23113 max_fails=2  fail_timeout=5s weight=2;
 }
 
 upstream xjw_eu_pc {
 	least_conn;
-	server 205.177.199.6:23103 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.216:23103 max_fails=2  fail_timeout=5s weight=2;
-	server 205.177.199.9:23103 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.221:23103 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.6:23103 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.216:23103 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.9:23103 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.221:23103 max_fails=2  fail_timeout=5s weight=2;
+    server 61.238.107.16:23103 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:23103 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:23103 max_fails=2  fail_timeout=5s weight=2;
 }
 
 upstream xjw_proxy_eu_h5 {
 	least_conn;
-	server 205.177.199.6:33630 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.216:33630 max_fails=2  fail_timeout=5s weight=2;
-	server 205.177.199.9:33630 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.221:33630 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.6:33630 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.216:33630 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.9:33630 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.221:33630 max_fails=2  fail_timeout=5s weight=2;
+    server 61.238.107.16:33630 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:33630 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:33630 max_fails=2  fail_timeout=5s weight=2;
 }
 
 upstream xjw_proxy_eu_pc {
 	least_conn;
-	server 205.177.199.6:33631 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.216:33631 max_fails=2  fail_timeout=5s weight=2;
-	server 205.177.199.9:33631 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.221:33631 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.6:33631 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.216:33631 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.9:33631 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.221:33631 max_fails=2  fail_timeout=5s weight=2;
+    server 61.238.107.16:33631 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:33631 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:33631 max_fails=2  fail_timeout=5s weight=2;
 }
 
 upstream xjw_proxy_euv68_h5 {
 	least_conn;
-	server 205.177.199.6:33646  max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.216:33646 max_fails=2  fail_timeout=5s weight=2;
-	server 205.177.199.9:33646 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.221:33646 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.6:33646  max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.216:33646 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.9:33646 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.221:33646 max_fails=2  fail_timeout=5s weight=2;
+    server 61.238.107.16:33646 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:33646 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:33646 max_fails=2  fail_timeout=5s weight=2;
 }
 
 upstream xjw_proxy_euv68_pc {
 	least_conn;
-	server 205.177.199.6:33647 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.216:33647 max_fails=2  fail_timeout=5s weight=2;
-	server 205.177.199.9:33647 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.221:33647 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.6:33647 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.216:33647 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.9:33647 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.221:33647 max_fails=2  fail_timeout=5s weight=2;
+    server 61.238.107.16:33647 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:33647 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:33647 max_fails=2  fail_timeout=5s weight=2;
 }
 
 upstream xjw_proxy_euqp_h5 {
 	least_conn;
-	server 205.177.199.6:33648 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.216:33648 max_fails=2  fail_timeout=5s weight=2;
-	server 205.177.199.9:33648 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.221:33648 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.6:33648 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.216:33648 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.9:33648 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.221:33648 max_fails=2  fail_timeout=5s weight=2;
+    server 61.238.107.16:33648 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:33648 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:33648 max_fails=2  fail_timeout=5s weight=2;
 }
 
 upstream xjw_proxy_euqp_pc {
 	least_conn;
-	server 205.177.199.6:33649 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.216:33649 max_fails=2  fail_timeout=5s weight=2;
-	server 205.177.199.9:33649 max_fails=2  fail_timeout=5s weight=2;
-	server 101.78.133.221:33649 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.6:33649 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.216:33649 max_fails=2  fail_timeout=5s weight=2;
+	#server 205.177.199.9:33649 max_fails=2  fail_timeout=5s weight=2;
+	#server 101.78.133.221:33649 max_fails=2  fail_timeout=5s weight=2;
+    server 61.238.107.16:33649 max_fails=2  fail_timeout=5s weight=2;
+    server 202.155.246.243:33649 max_fails=2  fail_timeout=5s weight=2;
+    server 59.148.22.111:33649 max_fails=2  fail_timeout=5s weight=2;
 }
 
 upstream xjw-eu-pro-web {

