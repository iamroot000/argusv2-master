--- /ansible/nginx/hostgroups/om-fpms_pms_nginx/nginx/conf.d/global/geoip.conf	2019-04-18 19:44:51.673490795 +0800
+++ /tmp/geoip.conf	2019-04-18 19:45:17.088490795 +0800
@@ -1,4 +1,30 @@
+### SET the path to the .dat file used for determining the visitor's country from the IP-address ###
+geoip_country /usr/local/nginx/data/GeoIP-106_20171017.dat;
+map $geoip_country_code $allowed_country {
+   default yes;
+   SG no;
+   MO no;
+   PH no;
+   US no;
+   TW no;
+   AU no;
+   AUS no;
+   }
 
+### SET FASTCGI Variables ###
+#
+fastcgi_param GEOIP_COUNTRY_CODE $geoip_country_code;
+fastcgi_param GEOIP_COUNTRY_CODE3 $geoip_country_code3;
+fastcgi_param GEOIP_COUNTRY_NAME $geoip_country_name;
 
-
+### SET FASTCGI Variables ###
+fastcgi_param GEOIP_CITY_COUNTRY_CODE $geoip_city_country_code;
+fastcgi_param GEOIP_CITY_COUNTRY_CODE3 $geoip_city_country_code3;
+fastcgi_param GEOIP_CITY_COUNTRY_NAME $geoip_city_country_name;
+fastcgi_param GEOIP_REGION $geoip_region;
+fastcgi_param GEOIP_CITY $geoip_city;
+fastcgi_param GEOIP_POSTAL_CODE $geoip_postal_code;
+fastcgi_param GEOIP_CITY_CONTINENT_CODE $geoip_city_continent_code;
+fastcgi_param GEOIP_LATITUDE $geoip_latitude;
+fastcgi_param GEOIP_LONGITUDE $geoip_longitude;
 

