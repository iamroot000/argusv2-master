#####

upstream realcallbackbw2122  {
#        server  203.192.151.12:7111 max_fails=2  fail_timeout=30s ;
#        server  203.177.198.116:7111 max_fails=2  fail_timeout=30s;
        server  101.78.133.212:7121 max_fails=2  fail_timeout=30s;
        server  205.177.199.12:7121 max_fails=2  fail_timeout=30s backup;


}

#server {
#    listen 80;
#    server_name  callback.n2.authapi.net callbacktest.n2.authapi.net;
#    rewrite     ^(.*)   https://$http_$host$1 permanent;
#}

server {
        listen       443; #HTTP Port
        server_name  callback.bw21.authapi.net;

        charset utf-16;
        access_log  logs/realcallbackbw21.access.log main;
        error_log  logs/realcallbackbw21.error.log  ;

        ssl on;
        ssl_certificate /usr/local/nginx/conf.d/ssl/authapi.net/fullchain.pem;
        ssl_certificate_key /usr/local/nginx/conf.d/ssl/authapi.net/privkey.pem;

        location / {
#		    include /usr/local/nginx/conf.d/include/whitelistIP.include;
	        include /usr/local/nginx/conf.d/include/proxy.conf.fwd.include ;
	        proxy_next_upstream http_500 http_502 http_503 http_504 http_404 timeout invalid_header error;
		    proxy_pass http://realcallbackbw2122;
        }

  }

server {
        listen       80; #HTTP Port
        server_name  callback.bw21.authapi.net;

        charset utf-16;
        access_log  logs/realcallback80bw21.access.log main;
        error_log  logs/realcallback80bw21.error.log  ;


        location / {
#		    include /usr/local/nginx/conf.d/include/whitelistIP.include;
	        include /usr/local/nginx/conf.d/include/proxy.conf.fwd.include ;
	        proxy_next_upstream http_500 http_502 http_503 http_504 http_404 timeout invalid_header error;
		    proxy_pass http://realcallbackbw2122;
        }

  }
server {
        listen       443; #HTTP Port
        server_name   callback.bw22.authapi.net;

        charset utf-16;
        access_log  logs/realcallbackbw22.access.log main;
        error_log  logs/realcallbackbw22.error.log  ;

        ssl on;
        ssl_certificate /usr/local/nginx/conf.d/ssl/authapi.net/fullchain.pem;
        ssl_certificate_key /usr/local/nginx/conf.d/ssl/authapi.net/privkey.pem;

        location / {
#		    include /usr/local/nginx/conf.d/include/whitelistIP.include;
	        include /usr/local/nginx/conf.d/include/proxy.conf.fwd.include ;
	        proxy_next_upstream http_500 http_502 http_503 http_504 http_404 timeout invalid_header error;
		    proxy_pass http://realcallbackbw2122;
        }

  }

server {
        listen       80; #HTTP Port
        server_name  callback.bw22.authapi.net;

        charset utf-16;
        access_log  logs/realcallback80bw22.access.log main;
        error_log  logs/realcallback80bw22.error.log  ;


        location / {
#		    include /usr/local/nginx/conf.d/include/whitelistIP.include;
	        include /usr/local/nginx/conf.d/include/proxy.conf.fwd.include ;
	        proxy_next_upstream http_500 http_502 http_503 http_504 http_404 timeout invalid_header error;
		    proxy_pass http://realcallbackbw2122;
        }

  }




