{% extends "SSRCHECKER/ssrinit.html" %}


{% block style %}
    {{ block.super }} {# includes previous content in block #}

    <link href="/static/css/plugins/codemirror/codemirror.css" rel="stylesheet">
    <link href="/static/css/plugins/codemirror/monokai.css" rel="stylesheet">


    <style>

    .pre-scrollable {
        max-height: 800px;
        overflow-y: scroll;
    }
        .CodeMirror {
      border: 1px solid #eee;
      height: auto;

    }
    .cm-s-monokai .CodeMirror-cursor {border-left: 5px solid #f8f8f0 !important;}

    .filename-btn {
        margin-bottom:5px;
    }

    pre{
        white-space: pre-wrap;
    }

    .row-eq-height {
      display: -webkit-box;
      display: -webkit-flex;
      display: -ms-flexbox;
      display:         flex;
    }

    </style>
{% endblock %}


{% block title %}SSR-Manager{% endblock %}
{% block header %}
VPN-Manager
{% endblock %}
{% block details %}
{{ vpnname }}
{% endblock %}
{% block action %}
{% endblock %}
{% block content %}
    <div class="row border-bottom white-bg dashboard-header">
                <h1 class="display-3">Logs:</h1>
                <div class="ex1" id="log-scroll">
                <pre class="pre-scrollable" id="execute_content">
                    <p>{{ logs }}</p>
                </pre>
            <center>
                <div>
                    <!-- click on this button
                      and see the change -->
                    {% if logs_recap is not True %}
                        <div class="spinner-border text-primary" role="status">
                            <td align="center"><button type="button" class="btn btn-success" disabled><span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>Initializing...</button></a></td>
                        </div>
                    {% else %}
                        <div class="spinner-border text-primary" role="status">
                            <td align="center"><button type="button" class="btn btn-primary" disabled><span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>Done</button></a></td>
                        </div>
                    {% endif %}
                </div>
            </center>
                </div>
    </div>
{% endblock %}


{% block js %}
    {{ block.super }} {# includes previous content in block #}

    <script src="/static/js/select2/select2.full.min.js"></script>

    <script src="/static/js/plugins/codemirror/codemirror.js"></script>
    <script src="/static/js/esync/nginx-format.js" type="text/javascript"></script>
    <script src="/static/js/plugins/codemirror/mode/javascript/javascript.js"></script>
    <script src="/static/js/plugins/toastr/toastr.min.js"></script>
    <script type="text/javascript" src="/static/multiselect/js/multiselect.min.js"></script>
    <script src="/static/js/esync/initiald_logs.js" type="text/javascript"></script>
    <!--    autoscroll-->
    <script src=
    "https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
    </script>
    {% if logs_recap is not True %}
       <script>
        setTimeout(function() {
           location.reload();
        },5000);
       </script>
    {% endif %}
    <script>
        $(function () {
        $("#execute_content").animate({
        scrollTop: $('#execute_content').get(0).scrollHeight}, 100);});
    </script>
    <!--    autoscroll-->

{% endblock %}

