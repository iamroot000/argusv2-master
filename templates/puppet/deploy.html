{% extends "base.html" %}

{% block js %}
    {{ block.super }} {# includes previous content in block #}

    <script src="/static/js/select2/select2.full.min.js"></script>

    <script src="/static/js/plugins/codemirror/codemirror.js"></script>
    <script src="/static/js/plugins/codemirror/mode/javascript/javascript.js"></script>
    <script src="/static/js/plugins/toastr/toastr.min.js"></script>
    <script type="text/javascript" src="/static/multiselect/js/multiselect.min.js"></script>
    <script src="/static/js/puppet/deploy.js" type="text/javascript"></script>


{% endblock %}

{% block style %}
    {{ block.super }} {# includes previous content in block #}

{% endblock %}


{% block title %}
{% block header %}

Puppet Deploy Hostgroup
{% endblock %}

{% endblock %}


{% block details %}
{% endblock %}

{% block action %}
{% endblock %}

{% block content %}
<div class="row border-bottom white-bg dashboard-header">
    <div class="row">
        <div class="col-lg-6">
            <label for="deployable">Undeployed Ansible Hostgroups (/etc/ansible/hosts)</label>
            <select class="form-control select2 directory"  data-placeholder="Directory" style="width:100%;" id="deployable">
                {% for i in deployable %}
                <option value="{{ i }}">{{ i }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-lg-6">
            <ol>
                <li>Make sure the Hostname is correct</li>
                <li>Hosts are monitored by Zabbix</li>
                <li>Hosts are inside /etc/ansible/hosts (Reload if not there)</li>
                <li>/puppet/#HOSTRGOUP directory does not exist</li>
                <li>http://git.neweb.me/puppet_cloud/#HOSTGROUP exists and is an empty repository</li>
            </ol>
        </div>

    </div>
    <br/>
    <div class="row">
        <div class="col-lg-6">
            <button id="reloadHosts" class="btn btn-success pull-left" onclick="reloadHosts()">Reload Ansible Hosts</button>

            <button id="startDeploy" class="btn btn-primary pull-right" onclick="startDeploy()">Start</button>
        </div>
        <div class="col-lg-6">
            <pre id="results"></pre>
        </div>
    </div>
</div>
{% endblock %}